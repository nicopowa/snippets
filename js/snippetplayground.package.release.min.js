/**
 * snippetplayground package release
 * Â© ILUSIO 2024 https://snipp.et
 * The Closure Library Authors - Apache-2.0
 */
(function(){
var g=this||self;function h(a,b){a=a.split(".");var c=g;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c[e]&&c[e]!==Object.prototype[e]?c=c[e]:c=c[e]={}:c[e]=b};h("DEBUG",!1);h("STAND",!1);function l(a){a.u.style.minHeight=a.j.style.minHeight=a.j.style.maxHeight="calc("+a.N+"em + 0.5em)"}function m(a){if(!a.g.length)for(;a.m.firstChild;)a.m.removeChild(a.m.lastChild);let b=n.g.filter(c=>a.v.includes(c.ha)||a.v.includes("#"+c.G)).reduce((c,e)=>{/^p/.test(e.A)?c[e.A]+=e.O+"\n":c[e.M]+=e.O+"\n";return c},{html:"",css:"",js:"",pre:"",post:""});b[a.M]+=a.O;a.s.removeChild(a.u);a.u.srcdoc=p(a,b);a.s.insertBefore(a.u,a.j)}
function p(a,b){let c=/^[^{]+\{([\s\S]+)\}$/g,e=d=>'onerror="console.error(new URIError(event.target.'+d+'));"';return['<html>\n<head>\n<meta http-equiv="content-type" content="text/html; charset=UTF-8">\n<style>\nhtml,body{margin:0;padding:0;width:100%;height:100%;}',b.css,"</style>",...a.Y.map(d=>'<link rel="stylesheet" href="'+d+'" '+e("href")+"/>"),"<script>",n.h.toString().replace(c,"$1").replace("{o}",location.origin),"\x3c/script>",...a.Z.map(d=>'<script src="'+d+'" '+e("src")+">\x3c/script>"),
"<script"+(a.B?' type="module"':"")+">",("perf"===a.A?n.j:n.m).toString().replace(c,"$1").replace(/(pre|js|post)\(\);?,?/g,(d,f)=>"\n"+b[f].replace(/(console[^)]+\);?)/g,(k,u)=>"perf"===a.A?"":u)+"\n"),"\x3c/script>\n</head>\n<body>",b.html,"</body>\n</html>"].join("\n")}
function q(a,b){a.g.push(b);a.U("log",a.g.length+".",Math.round(b),"ops");9>a.g.length?setTimeout(()=>m(a),5):(a.g.sort((c,e)=>c-e),a.U("log","ops/s median",Math.round((a.g[a.g.length-1>>1]+a.g[a.g.length>>1])/2),"avg",Math.round(a.g.reduce((c,e)=>c+e,0)/a.g.length)),a.g=[])}function r(a){let b=n.g.find(c=>c.u&&c.u.contentWindow===a.source);b&&b.U.apply(b,a.data.map(c=>JSON.parse(c)))}
class n{constructor(a,b=0){this.ga=a;this.G=b||++n.G;if(b=JSON.parse(decodeURI(a.getAttribute("data-snip")||(/(\{[^}]+\})/.exec(this.O.split("\n",1)[0])||[0]).pop()))){this.ha=b.name||"";this.M=/language-(\w+)/.exec(a.className)[1].replace(/j.+t/,"js");this.A=b.hasOwnProperty("type")?b.type:"run";this.B=b.module||!1;this.v=b.link||[];this.Y=b.css||[];this.Z=b.js||[];this.g=[];if("run"==this.A||"perf"==this.A)this.o=document.createElement("div"),this.o.classList.add("snip"),a=a.parentNode,!1!==b.insert&&
a.parentNode.insertBefore(this.o,a.nextSibling),this.h=document.createElement("span"),this.o.appendChild(this.h),this.h.addEventListener("click",c=>{switch(Array.from(this.h.children).indexOf(c.target)){case 0:m(this);break;case 1:document.fullscreenElement?document.exitFullscreen():this.o.requestFullscreen();break;case 2:this.C.classList.toggle("snip-nobody");break;case 3:this.C.classList.toggle("snip-noconsole");break;case 4:this.N--;l(this);break;case 5:this.N++,l(this)}}),this.h.appendChild(document.createElement("div")),
this.h.appendChild(document.createElement("div")),this.o.addEventListener("fullscreenchange",()=>{document.fullscreenElement?this.C.classList.add("full"):this.C.classList.remove("full")}),this.F=document.createElement("div"),this.h.appendChild(this.F),this.D=document.createElement("div"),this.h.appendChild(this.D),this.h.appendChild(document.createElement("div")),this.h.appendChild(document.createElement("div")),a=document.createElement("a"),a.setAttribute("href","//snipp.et"),a.setAttribute("target",
"_blank"),this.h.appendChild(a),this.s=document.createElement("div"),this.o.appendChild(this.s),this.u=document.createElement("iframe"),this.u.setAttribute("sandbox","allow-scripts"),this.s.appendChild(this.u),this.j=document.createElement("div"),this.s.appendChild(this.j),this.m=document.createElement("div"),this.j.appendChild(this.m),!1===b.body&&this.o.classList.add("snip-nobody"),!1===b.console&&this.o.classList.add("snip-noconsole"),this.N=+(b.height||12),l(this);n.g.push(this)}}U(...a){let b=
a.shift();if("perf"==b)return q(this,+a[0]);let c=new Date,e=document.createElement("span");e.classList.add("snip-"+b);e.setAttribute("data-time",(new Date(c-6E4*c.getTimezoneOffset())).toISOString().slice(-13,-1));e.textContent=a.join(" ");this.m.appendChild(e);this.j.scrollTo(0,this.j.scrollHeight)}get id(){return this.G}get C(){return this.o}get size(){return this.N}get O(){return this.ga.innerText.replace(/\u200B/g,"")}set scripts(a){this.Z=a}set ia(a){this.Y=a}static remove(a){var b=n.g.findIndex(c=>
c.G===a);-1!==b&&(b=n.g.splice(b,1)[0],b.o&&b.o.remove(),b=null)}static h(){const a=(...b)=>b.map(c=>JSON.stringify(c,(e,d)=>{if(!d)return String(d);if("function"===typeof d)return d.toString();if(d instanceof ErrorEvent)return JSON.stringify(Object.getOwnPropertyNames(Object.getPrototypeOf(d)).reduce((f,k)=>({...f,[k]:d[k]}),{}),null,"\t");if(d instanceof Error)return d.toString();if(d instanceof PromiseRejectionEvent)return d.reason.toString();if(d instanceof Element)return(new XMLSerializer).serializeToString(d).replace(/\sxmlns="[^"]+"/,
"");if(d instanceof Map){let f={};d.forEach((k,u)=>{f[u.toString()]=k});return JSON.stringify(f)}if(d instanceof Set){let f=[];d.forEach(k=>f.push(k));return JSON.stringify(f).replace(/^\[/,"{").replace(/\]$/,"}")}return"object"===typeof d?JSON.stringify(d):d},"\t"));["log","warn","error","perf"].forEach(b=>{console[b]=(...c)=>{window.parent.postMessage([...a(b,...c)],"{o}")}});window.addEventListener("unhandledrejection",b=>console.error(b));window.addEventListener("error",b=>console.error(b))}static m(){window.addEventListener("load",
async()=>{try{pre(),js(),post()}catch(a){console.error(a)}})}static j(){window.addEventListener("load",async()=>{pre();let a=performance.now(),b=0,c=()=>{js()};for(;1E3>=performance.now()-a;)c(),b++;post();console.perf(b)})}}h("Snippet",n);n.G=0;n.g=[];window.addEventListener("message",a=>r(a),!1);window.addEventListener("load",()=>new t);function v(a,...b){let c=document.createElement("div");w(c,...b);a&&a.appendChild(c);return c}function w(a,...b){a.classList.add(...b)}
function x(a){a.P.addEventListener("click",()=>y(a));a.K.addEventListener("click",b=>"A"===b.target.nodeName&&y(a)&&z(a,b.target.href));a.m.addEventListener("click",b=>{var c;if(c="LI"===b.target.nodeName)b.target.classList.toggle("on"),A(a),c=void 0;return c});a.B.addEventListener("click",b=>b.target.classList.contains("cmd")&&B(a,b.target));(new Map([[a.create,a.W],[a.I,a.fa],[a.$,a.aa],[a.v,a.X],[a.V,a.ca]])).forEach((b,c)=>c.addEventListener("click",()=>b.bind(a)()));document.addEventListener("keydown",
b=>{(b.ctrlKey||b.metaKey)&&"rs".includes(b.key)&&(b.preventDefault(),"s"===b.key?a.X():"r"===b.key&&(window.scroll(0,0),m(a.h.js)))})}async function C(a){a.J=await (await fetch("libs.json")).json();Object.keys(a.J).forEach(b=>{let c=document.createElement("li");w(c,b);a.m.appendChild(c);c.innerHTML=b})}function D(a){a.store=JSON.parse(window.localStorage.getItem("snippets")||"[]");a.store.forEach(b=>E(a,b))}
async function F(a,b){return a.store.find(c=>c.i===b)?(a.g=b,await G(window.localStorage.getItem("snippet-"+b))):{}}async function G(a){try{return Object.fromEntries(new URLSearchParams(await H(a).catch(()=>({}))))}catch(b){return console.error(b),{}}}
function I(a,b={}){document.title=a.j.value=b.t||"untitled";a.S={...a.da,...JSON.parse(b.r||"{}")};a.H.slice(0,-1).forEach(c=>J(a,c,{name:c,type:""},b[c]||""));J(a,"js",a.S,b.js||"");K(a,JSON.parse(b.l||"[]"));A(a);a.ea.appendChild(a.h.js.C);a.g?(a.F.appendChild(a.B),L(a.v,"no"),M()):w(a.v,"no");setTimeout(()=>{window.scroll(0,0);m(a.h.js)},250)}function y(a){a.K.classList.contains("hide")?N(a):O(a);return!0}async function z(a,b){b=b.slice(b.lastIndexOf("#")+1);P(a);I(a,await F(a,b))}
function B(a,b){switch(a.ba.find(c=>b.classList.contains(c))){case "delete":w(b,"del-yes");break;case "del-yes":Q(a);break;case "del-no":M()}}async function H(a){return await (new Response((new Response(Uint8Array.from(atob(a),b=>b.charCodeAt(0)))).body.pipeThrough(new DecompressionStream("gzip")))).text()}
function J(a,b,c,e){let d=document.createElement("div");w(d,"code");a.F.appendChild(d);let f=document.createElement("pre");w(f,"prism-live","line-numbers");d.appendChild(f);let k=document.createElement("code");w(k,"code","language-"+b);k.setAttribute("data-snip",encodeURI(JSON.stringify(c)));k.textContent=e;f.appendChild(k);a.R[b]=d;c=new Prism.Live(f);c.textarea.placeholder=b;a.L[b]=c;a.h[b]=new n(k)}
function K(a,b){Object.keys(a.J).forEach(c=>{let e=a.m.querySelector("."+c);b.includes(c)?w(e,"on"):L(e,"on")})}function A(a){let b=R(a,S(a));a.h.js.scripts=b.js;a.h.js.ia=b.css}function L(a,...b){a.classList.remove(b)}function M(){L(document.querySelector(".cmd.delete"),"del-yes")}function P(a){a.g&&a.B.remove();a.g="";a.H.forEach(b=>{n.remove(a.h[b].id);a.L[b]=null;a.R[b].remove()});a.h={};a.L={};a.R={}}
function Q(a){a.store.splice(a.store.findIndex(b=>b.i===a.g),1);T(a);a.s.querySelector("[href='#"+a.g+"']").parentNode.remove();window.localStorage.removeItem("snippet-"+a.g);M();a.W()}function N(a){[a.K,a.P].forEach(b=>L(b,"hide"))}function O(a){U(a);[a.K,a.P].forEach(b=>w(b,"hide"))}function U(a){L(a.I,"may");L(a.s,"hide");w(a.m,"hide")}function S(a){return Array.from(a.m.querySelectorAll(".on")).map(b=>b.innerHTML)}
function R(a,b){return b.reduce((c,e)=>{let d=a.J[e];c.js.push(...d.js.map(f=>d.url+f));c.css.push(...d.css.map(f=>d.url+f));return c},{js:[],css:[]})}function E(a,b){let c=document.createElement("li");a.s.appendChild(c);a=document.createElement("a");a.setAttribute("href","#"+b.i);a.innerHTML=b.t;c.appendChild(a)}async function V(a){return btoa(String.fromCharCode(...(new Uint8Array(await (new Response((new Response(a)).body.pipeThrough(new CompressionStream("gzip")))).arrayBuffer()))))}
function W(a){history.replaceState(a,"","#"+a)}async function X(a,b=[]){var c=a.h.js;let e=!c.C.classList.contains("snip-nobody"),d=!c.C.classList.contains("snip-noconsole");c=c.size;return await V(a.H.map(f=>f+"="+encodeURIComponent(a.L[f].textarea.value)).concat([...b,"t="+encodeURIComponent(a.j.value),"r="+JSON.stringify({...a.S,height:c,body:e,console:d}),"l="+JSON.stringify(S(a))]).join("&"))}function T(a){window.localStorage.setItem("snippets",JSON.stringify(a.store))}
function Y(a){w(a,"yes");setTimeout(()=>L(a,"yes"),500)}
class t{constructor(){this.H=["html","css","js"];this.ba=["del-yes","del-no","delete"];this.da={name:"js",type:"run",height:18,body:!0,console:!0,insert:!1,js:[],css:[],link:this.H.slice(0,-1)};this.g="";this.S={};this.R={};this.h={};this.L={};this.store=[];this.D=document.querySelector(".header");this.F=document.querySelector(".content");this.K=document.querySelector(".menu");this.T=document.querySelector(".menutools");this.s=document.querySelector(".menulist");this.m=document.querySelector(".libslist");
this.J={};this.P=v(this.D,"menubtn","hide");this.ea=v(this.F,"wrap");this.j=document.createElement("input");this.j.placeholder="title...";w(this.j,"title");this.D.appendChild(this.j);this.v=v(this.D,"save");this.V=v(this.D,"copy");this.create=v(this.T,"create");this.I=v(this.T,"lib");this.$=v(this.T,"about");this.B=v(null,"cmds");let a=v(this.B,"cmd","delete");v(a,"del-space");v(a,"cmd","del-no");x(this);this.start()}async start(){await C(this);D(this);let a=location.hash.slice(1),b={};8===a.length?
b=await F(this,a):8<a.length&&(b=await G(a));I(this,b)}W(){O(this);P(this);I(this);W("")}fa(){this.I.classList.contains("may")?U(this):(w(this.I,"may"),w(this.s,"hide"),L(this.m,"hide"))}async aa(){O(this);P(this);I(this,await G(await (await fetch("about.snippet")).text()));W("")}async X(){if(this.g){var a=this.store.find(b=>b.i===this.g);a&&(a.t=this.j.value,this.s.querySelector("[href='#"+this.g+"']").innerHTML=a.t)}else a={i:Date.now().toString(36),t:this.j.value},this.g=a.i,document.title=a.t,
this.store.push(a),E(this,a),L(this.v,"no"),this.F.appendChild(this.B),W(a.i);window.localStorage.setItem("snippet-"+this.g,await X(this,["i="+this.g]));T(this);M();Y(this.v)}async ca(){let a=location.origin+location.pathname+"#"+await X(this);try{await navigator.share({title:this.j.value,url:a})}catch(b){await navigator.clipboard.writeText(a)}Y(this.V)}};}).call(this);
